---
title: Network-(1) DHCP
layout: single
author_profile: true
read_time: true
comments: true
share: true
related: true
categories:
- Network
toc: true
toc_sticky: true
toc_label: 목차
---

# Network Essentials 1부 DHCP(Dynamic Host Configuration)


## [한줄요약] DHCP 서버란 ?
- 동적으로 호스트의 IP를 설정하는 프로토콜
- DHCP 프로토콜(7계층) 

## What DHCP?
- 호스트가 네트워크와 통신하려면 물리적 네트워크 구성은 물론 IP 주소, 서브넷 마스크, 게이트웨이와 같은 네트워크 정보와 DNS 주소 설정이 필요합니다.
- 수동으로 IP와 네트워크 정보를 직접 설정하는 것을 '정적 할당'이라고 하고 자동으로 설정하는 것을 '동적 할당'이라고 합니다.
- 핸드폰이나 PC를 사용할 때, IP를 별도로 설정하지 않아도 네트워크에 쉽게 접속되므로 특별한 경우를 제외하고 동적 할당 방식을 기본으로 사용합니다. 가정에서 사용하는 공유기도 동적 할당 방식을 기본으로 사용합니다.
- **이렇게 IP를 동적으로 할당하는데 사용되는 프로토콜이 바로 DHCP(Dynamic Host Configuration) 입니다.** 

## DHCP 서버는 왜 필요한가 ?
- DHCP는 클라이언트가 있을 때 같은 네트워크 대역에서 (같은 LAN에서) IP를 관리해주는 서버
- 예를 들어서, 특정 사용자가 IP가 없을때 DHCP 서버에 요청이 들어오게 되면, '너는 192.168.10.104 IP를 1시간 동안 사용해'라고 
DHCP서버가 해당 네트워크 대역에서 쓸 수 있는 IP를 빌려주는 개념 입니다
- 같은 네트워크 대역에서 사용하는 IP를 DHCP가 관리를 하게 되면, IP주소를 DHCP서버가 관리를 하게 되면 사용자들이 필요할 때마다 사용할 수 있게 됩니다
- 만약에, DHCP 서버가 없는 경우에는 같은 네트워크 대역에서 똑같은 IP를 두명이서 사용한다던가, 여러명의 사용자들이 어떤 IP를 사용중인지 모를수도 있을때
IP가 충돌이 되는 경우도 있습니다.
- 이렇게 DHCP 서버가 따로 관리를 해주게 되면, 사용자들은 IP 충돌 신경쓰지 않고 DHCP서버로부터 자동으로 할당 받아서 쓸 수 있게 되는 IP 주소를 관리해주는 서버 입니다.
- 보통 DHCP 서버 기능이 공유기, WIFI에 들어있습니다

## DHCP 프로토콜을 사용하는 이유
- IP 주소가 없어서 IP 주소를 할당 받으려고 하는 것
- DHCP 서버를 찾기 위해 브로드캐스트를 보내게 됩니다 (같은 네트워크 대역에 있는 노드만 IP를 할당 받을 수 있게 됩니다)
- 클라이언트는 DHCP 서버로 같은 네트워크 대역에 있는 모든 노드들에 브로드캐스트로 DHCP Discover를 보냄
- DHCP Discover는 같은 네트워크 대역에 DHCP 서버가 있는지 없는지 찾는것
- DHCP Request를 통해 IP주소를 할당 받을 수 있게 해달라고 요청하기
- IP 주소와 IP를 사용할 수 있는 시간을 DHCP Ack를 통해서 다시 보내게 됩니다
- 참고로, 브로드 캐스트로 보내면, 같은 대역대에 있는 노드에 모두 보내게 됩니다

## DHCP 이점
- DHCP를 사용하면 사용자가 직접 입력해야 하는 IP 주소, 서브넷 마스크, 게이트웨이, DNS 정보를 자동으로 할당받아 사용할 수 있습니다.
- IP가 자동으로 관리되므로 사용자가 직접 입력하면서 발생할 수 있는 설정 정보 오류나 중복 IP 할당과 같은 문제를 예방할 수 있습니다.
- 별도의 IP 설정 작업이 필요없어 사용자와 관리자 모두 편리하게 네트워크에 접속할 수 있습니다.
- 사용하지 않는 IP 정보는 회수되어 사용하는 경우에만 재할당되어 사용자 이동이 많고 한정된 IP 주소를 가진 경우 유용하게 사용될 수 있습니다.

## DHCP 프로토콜
- DHCP는 BOOTP(Bootstrap Protocol)라는 프로토콜을 기반으로 합니다.
- DHCP는 BOOTP와 유사하게 동작하지만 BOOTP에서 지원되지 않는 몇 가지 기능이 추가된 확장 프로토콜 입니다.







